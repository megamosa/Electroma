{% extends 'layouts.master' %}

{% block content %}

{# Page Header #}
<div class="container-fluid page-header py-5">
    <h1 class="text-center text-white display-6">{{ trans('common.shop') }}</h1>
    <ol class="breadcrumb justify-content-center mb-0">
        <li class="breadcrumb-item"><a href="{{ link('/') }}">{{ trans('common.home') }}</a></li>
        {% if category %}
        <li class="breadcrumb-item active text-white">{{ category.name }}</li>
        {% else %}
        <li class="breadcrumb-item active text-white">{{ trans('common.shop') }}</li>
        {% endif %}
    </ol>
</div>

{# Products Section #}
<div class="container-fluid product py-5">
    <div class="container py-5">
        <div class="row g-4">
            {# Sidebar Filters #}
            <div class="col-lg-3">
                <salla-filters></salla-filters>
            </div>
            
            {# Products Grid #}
            <div class="col-lg-9">
                <div class="row g-4">
                    {% for product in products %}
                    <div class="col-md-6 col-xl-4">
                        <salla-product-card 
                            product-id="{{ product.id }}"
                            product='{{ product | json_encode }}'
                        ></salla-product-card>
                    </div>
                    {% else %}
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-box-open fa-5x text-muted mb-4"></i>
                        <h3>{{ trans('common.no_products') }}</h3>
                    </div>
                    {% endfor %}
                </div>
                
                {% if pagination %}
                <div class="d-flex justify-content-center mt-5">
                    <salla-infinite-scroll></salla-infinite-scroll>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}

